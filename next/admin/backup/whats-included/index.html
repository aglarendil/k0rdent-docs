
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for k0rdent.">
      
      
        <meta name="author" content="Mirantis, Inc.">
      
      
      
        <link rel="prev" href="../ondemand-backups/">
      
      
        <link rel="next" href="../restore/">
      
      
      <link rel="icon" href="../../../img/k0rdent-logo-mark-inverted.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>What's Included in a Backup - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#backing-up-k0rdent-with-velero" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Documentation" class="md-header__button md-logo" aria-label="Documentation" data-md-component="logo">
      
  <img src="../../../img/k0rdent-logo-horizontal-inverted.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              What's Included in a Backup
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/k0rdent/kcm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    k0rdent/kcm
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Documentation" class="md-nav__button md-logo" aria-label="Documentation" data-md-component="logo">
      
  <img src="../../../img/k0rdent-logo-horizontal-inverted.svg" alt="logo">

    </a>
    Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k0rdent/kcm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    k0rdent/kcm
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to the docs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../concepts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    k0rdent concepts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            k0rdent concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/why-k0rdent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why k0rdent?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/k0rdent-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k0rdent architecture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../quickstarts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    QuickStarts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            QuickStarts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstarts/quickstart-1-mgmt-node-and-cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup Management Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstarts/quickstart-2-aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure and Deploy to AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstarts/quickstart-2-azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure and Deploy to Azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstarts/quickstart-2-remote/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure and Deploy w/ SSH
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstarts/quickstart-2-gcp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure and Deploy to GCP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Administrator Guide
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Administrator Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../installation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Installation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../installation/create-mgmt-clusters/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Creating the management cluster
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_2">
            <span class="md-nav__icon md-icon"></span>
            Creating the management cluster
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/create-mgmt-clusters/mgmt-create-k0s-single/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a single node k0s cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/create-mgmt-clusters/mgmt-create-eks-multi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a multinode EKS cluster
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/install-k0rdent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install k0rdent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/verify-install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Verify the k0rdent installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../installation/prepare-mgmt-cluster/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Prepare k0rdent to create child clusters
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2_5" id="__nav_4_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_5">
            <span class="md-nav__icon md-icon"></span>
            Prepare k0rdent to create child clusters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/prepare-mgmt-cluster/aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/prepare-mgmt-cluster/azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/prepare-mgmt-cluster/gcp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GCP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/prepare-mgmt-cluster/openstack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenStack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/prepare-mgmt-cluster/vmware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VMware
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../installation/auth/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2_6" id="__nav_4_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_6">
            <span class="md-nav__icon md-icon"></span>
            Authentication
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/auth/okta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Okta
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/auth/entra-id/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entra-ID
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../clusters/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Working with clusters
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Working with clusters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clusters/deploy-cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying standalone clusters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clusters/update-cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating standalone clusters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clusters/admin-adopting-clusters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adopting clusters
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../services/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Working with services
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Working with services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/admin-service-templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using and creating service templates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/admin-create-multiclusterservice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating multi-cluster services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/admin-deploy-services-mgmt-cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying beach-head services on the Management Cluster itself
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../hosted-control-plane/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Hosted control planes
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Hosted control planes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hosted-control-plane/hcp-aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hosted-control-plane/hcp-azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hosted-control-plane/hcp-vmware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VMware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hosted-control-plane/hcp-gcp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GCP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../kof/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    k0rdent Observability & FinOps
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            k0rdent Observability & FinOps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kof/kof-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kof/kof-install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing KOF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kof/kof-verification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Verifying the KOF installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kof/kof-storing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storing KOF data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kof/kof-using/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using KOF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kof/kof-scaling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scaling KOF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kof/kof-maintainence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maintaining KOF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kof/kof-limits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Limits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kof/kof-version-compat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Version Compatibility
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../upgrade/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Upgrading k0rdent
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            Upgrading k0rdent
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/upgrade-to-0-2-0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrade to v0.2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/upgrade-to-0-3-0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrade to v0.3.0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../access/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Access Management
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            Access Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../access/credentials/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    k0rdent Credentials Management
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_8_2" id="__nav_4_8_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_2">
            <span class="md-nav__icon md-icon"></span>
            k0rdent Credentials Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access/credentials/credentials-process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Credentials Process
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access/credentials/credentials-propogation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credential Propogation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../access/rbac/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    k0rdent Role Based Access Control (RBAC)
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_8_3" id="__nav_4_8_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_3">
            <span class="md-nav__icon md-icon"></span>
            k0rdent Role Based Access Control (RBAC)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access/rbac/what-roles-do/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What Roles Do
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access/rbac/roles-summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Role Definitions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_9" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Backup and Restore
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_9" id="__nav_4_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            Backup and Restore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prepare-backups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preparing for Backup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scheduled-backups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduled Management Backups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ondemand-backups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Management Backup on Demand
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    What's Included in a Backup
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    What's Included in a Backup
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understanding-velero" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Velero
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#k0rdent-backup-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      k0rdent Backup Strategy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-backup-targets" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Backup Targets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Backup Targets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#management-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Management Cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#child-workload-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Child / Workload Cluster
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-velero-for-the-management-cluster-hcp-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Up Velero for the Management Cluster (HCP Scenario)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setting Up Velero for the Management Cluster (HCP Scenario)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-choose-backup-storage-prepare-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Choose Backup Storage &amp; Prepare Credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-choose-persistent-volume-pv-backup-method" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Choose Persistent Volume (PV) Backup Method
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-install-velero-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Install Velero CLI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-install-velero-server-in-k0rdent-management-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Install Velero Server in k0rdent Management Cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-verify-velero-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Verify Velero Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-identify-hcp-etcd-pvs-crucial-sanity-check" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6: Identify HCP etcd PVs (Crucial Sanity Check)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-create-the-management-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7: Create the Management Backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-schedule-regular-backups" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8: Schedule Regular Backups
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-velero-for-childworkload-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Up Velero for Child/Workload Clusters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-gets-backed-up-summary" class="md-nav__link">
    <span class="md-ellipsis">
      What Gets Backed Up (Summary)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-considerations-next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Important Considerations &amp; Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../restore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Restoring From Backup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../upgrades-rollbacks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrades and Rollbacks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../caveats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Caveats
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../customization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../user/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/user-create-cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating clusters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../user/services/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adding services
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Adding services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/services/understanding-servicetemplates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding ServiceTemplates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/services/add-service-to-clusterdeployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding a Service to a ClusterDeployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/services/beach-head/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Beach Head Services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/services/checking-status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Checking Status
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/services/remove-beach-head/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remove Beach Head Services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/services/servicetemplate-parameters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ServiceTemplate Parameters
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/user-enable-drift-detection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enabling drift detection
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/crds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k0rdent CRDs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/template/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    k0rdent Templates
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            k0rdent Templates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/template/template-predefined/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Removing predefined templates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/template/template-byo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bring-your-own (BYO) templates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/template/template-aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templates for Amazon Web Services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/template/template-azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templates for Azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/template/template-gcp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templates for GCP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/template/template-openstack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templates for OpenStack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/template/template-vsphere/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templates for vSphere
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/template/template-remote/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templates for Remote SSH
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../troubleshooting/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inspecting K0rdent Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/admin-troubleshooting-aws-vpcs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS VPCs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/known-issues-eks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EKS
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../appendix/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Appendix
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../appendix/glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../appendix/appendix-extend-mgmt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extended management configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../appendix/appendix-dryrun/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding the dry run
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../appendix/appendix-providers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud provider credentials management in CAPI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../contrib/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contrib/k0rdent-documentation-contributors-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k0rdent documentation contributor's guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contrib/k0rdent-documentation-style-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k0rdent documentation style guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understanding-velero" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Velero
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#k0rdent-backup-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      k0rdent Backup Strategy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-backup-targets" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Backup Targets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Backup Targets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#management-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Management Cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#child-workload-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Child / Workload Cluster
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-velero-for-the-management-cluster-hcp-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Up Velero for the Management Cluster (HCP Scenario)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setting Up Velero for the Management Cluster (HCP Scenario)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-choose-backup-storage-prepare-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Choose Backup Storage &amp; Prepare Credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-choose-persistent-volume-pv-backup-method" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Choose Persistent Volume (PV) Backup Method
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-install-velero-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Install Velero CLI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-install-velero-server-in-k0rdent-management-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Install Velero Server in k0rdent Management Cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-verify-velero-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Verify Velero Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-identify-hcp-etcd-pvs-crucial-sanity-check" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6: Identify HCP etcd PVs (Crucial Sanity Check)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-create-the-management-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7: Create the Management Backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-schedule-regular-backups" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8: Schedule Regular Backups
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-velero-for-childworkload-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Up Velero for Child/Workload Clusters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-gets-backed-up-summary" class="md-nav__link">
    <span class="md-ellipsis">
      What Gets Backed Up (Summary)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-considerations-next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Important Considerations &amp; Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/k0rdent/docs/edit/main/docs/admin/backup/whats-included.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/k0rdent/docs/raw/main/docs/admin/backup/whats-included.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="backing-up-k0rdent-with-velero">Backing up k0rdent with Velero<a class="headerlink" href="#backing-up-k0rdent-with-velero" title="Permanent link">#</a></h1>
<p>Ensuring you can recover your k0rdent environment and the clusters it manages is vital for 
operational resilience. This guide provides a comprehensive walkthrough for setting up Velero to back up both your k0rdent management cluster and your child/workload clusters.</p>
<h2 id="understanding-velero">Understanding Velero<a class="headerlink" href="#understanding-velero" title="Permanent link">#</a></h2>
<p>Velero works by:</p>
<p>cluster.x-k8s.io/provider="bootstrap-<provider>"
cluster.x-k8s.io/provider="control-plane-<provider>" 
cluster.x-k8s.io/provider="infrastructure-<provider>"</p>
<h2 id="k0rdent-backup-strategy">k0rdent Backup Strategy<a class="headerlink" href="#k0rdent-backup-strategy" title="Permanent link">#</a></h2>
<p>The best backup strategy for you depends on your k0rdent architecture:</p>
<ul>
<li><strong>Standalone Managed Clusters:</strong> If k0rdent manages standard K0s/Kubernetes clusters, you'll need backups for the k0rdent management cluster itself <em>and</em> separate backups configured <em>within each</em> standalone child cluster.</li>
<li><strong>Hosted Control Planes (HCP with k0smotron):</strong> This common k0rdent setup requires a layered approach:<ul>
<li><strong>Management Cluster Backup:</strong> Protects k0rdent, K0smotron, and critically, the <em>control planes</em> (including their state stored in etcd PVs within the management cluster) of all your workload clusters. <strong>This is essential for infrastructure recovery.</strong></li>
<li><strong>Workload Cluster Backup (Recommended):</strong> Protects the <em>application data</em> stored in PVs attached to the worker nodes of your workload clusters. <strong>This is essential for application data recovery.</strong></li>
</ul>
</li>
</ul>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">#</a></h2>
<p>Before you start, ensure you have:</p>
<ul>
<li><code>kubectl</code> access configured for the cluster(s) you intend to back up (Management cluster first, then Child/Workload clusters).</li>
<li>An account with a cloud provider (AWS, Azure, GCP) or access to an S3-compatible object storage system (like MinIO).</li>
<li>A dedicated object storage bucket/container created in your chosen storage system.</li>
<li>Credentials (for example, access keys, service principal secrets, service account keys) that grant Velero the necessary permissions to access the object storage bucket/container.</li>
</ul>
<h2 id="understanding-backup-targets">Understanding Backup Targets<a class="headerlink" href="#understanding-backup-targets" title="Permanent link">#</a></h2>
<p>It's crucial to understand what needs to be backed up in each location:</p>
<h3 id="management-cluster">Management Cluster<a class="headerlink" href="#management-cluster" title="Permanent link">#</a></h3>
<p><strong>What to back up here:</strong></p>
<ul>
<li>k0rdent core components (<code>kcm</code>) and configuration.</li>
<li>Management add-ons (for example, <code>cert-manager</code>).</li>
<li>K0smotron controller and Custom Resources (<code>Cluster</code>, <code>MachinePool</code>, and so on, defining HCPs).</li>
<li>Cluster API (CAPI) resources.</li>
<li>Running components of Hosted Control Planes, such as API server and controller-manager pods (if any).</li>
<li><strong>Critically:</strong> The Persistent Volumes (PVs) storing the <code>etcd</code> data for each Hosted Control Plane (HCP). These PVs physically reside on the management cluster's storage but contain the state of your workload clusters.</li>
</ul>
<p><strong>Purpose of this Backup:</strong> Infrastructure disaster recovery. Enables you to restore the entire k0rdent management plane, K0smotron, and the control planes of your workload clusters.</p>
<p><strong>What's NOT Covered:</strong> Application data stored on PVs within the workload clusters.</p>
<h3 id="child-workload-cluster">Child / Workload Cluster<a class="headerlink" href="#child-workload-cluster" title="Permanent link">#</a></h3>
<p><strong>What to Back Up Here:</strong></p>
<ul>
<li><strong>Critically:</strong> Application data stored in <strong>Persistent Volumes (PVs)</strong> attached to the worker nodes of this specific cluster.</li>
<li>Application-specific API objects (Deployments, Services, ConfigMaps, Secrets, application-specific CRs) deployed within this cluster's namespaces (provides granular restore capability).</li>
</ul>
<p><strong>Purpose of this Backup:</strong> Application data recovery and granular application restores. Ensures that if application data PVs are lost, you can restore the application's state.</p>
<p><strong>What's NOT Covered:</strong> The control plane state (that's stored in the HCP etcd PVs, backed up from the management cluster in an HCP scenario).</p>
<h2 id="setting-up-velero-for-the-management-cluster-hcp-scenario">Setting Up Velero for the Management Cluster (HCP Scenario)<a class="headerlink" href="#setting-up-velero-for-the-management-cluster-hcp-scenario" title="Permanent link">#</a></h2>
<p>This setup protects k0rdent, K0smotron, and the control planes of your workload clusters via their HCPs.</p>
<p><strong>Goal:</strong> Create reliable, automated backups of the management cluster including HCP etcd PVs.</p>
<h3 id="step-1-choose-backup-storage-prepare-credentials">Step 1: Choose Backup Storage &amp; Prepare Credentials<a class="headerlink" href="#step-1-choose-backup-storage-prepare-credentials" title="Permanent link">#</a></h3>
<ol>
<li><strong>Create a Bucket/Container:</strong> In your chosen cloud provider (such as AWS S3, Azure Blob, GCS) or S3-compatible storage, create a dedicated bucket/container for Velero backups (for example, <code>k0rdent-management-backups</code>). Note the bucket name and region (if applicable).</li>
<li>
<p><strong>Create Credentials:</strong> Velero needs permissions to write to this bucket. Create credentials according to your provider:</p>
<ul>
<li><strong>AWS:</strong> Create an IAM user or role with permissions allowing <code>s3:GetObject</code>, <code>s3:PutObject</code>, <code>s3:DeleteObject</code>, <code>s3:ListBucket</code>, <code>s3:GetBucketLocation</code>, etc., on the target bucket and objects. (See <a href="https://velero.io/docs/main/plugins/aws/">Velero AWS Plugin Docs</a> for exact permissions). Save the Access Key ID and Secret Access Key to a local file (e.g., <code>~/credentials-velero</code>):
    <div class="highlight"><pre><span></span><code><span class="k">[default]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">YOUR_ACCESS_KEY_ID</span>
<span class="na">aws_secret_access_key</span><span class="o">=</span><span class="s">YOUR_SECRET_ACCESS_KEY</span>
</code></pre></div></li>
<li><strong>Azure:</strong> Create an Azure Service Principal. Grant it the "Storage Blob Data Contributor" role on the storage account or specific container. Get the Tenant ID, Subscription ID, Client ID, and Client Secret. (See <a href="https://velero.io/docs/main/plugins/azure/">Velero Azure Plugin Docs</a> for details). Save these details to a file (e.g., <code>~/credentials-velero</code>).</li>
<li><strong>GCP:</strong> Create a Service Account. Grant it the "Storage Admin" (<code>roles/storage.admin</code>) role. Download the service account key file (JSON format, e.g., <code>~/gcp-key.json</code>).</li>
<li><strong>S3-Compatible:</strong> Usually uses AWS format credentials file. Check provider docs for specific endpoint/region configuration.</li>
</ul>
</li>
</ol>
<h3 id="step-2-choose-persistent-volume-pv-backup-method">Step 2: Choose Persistent Volume (PV) Backup Method<a class="headerlink" href="#step-2-choose-persistent-volume-pv-backup-method" title="Permanent link">#</a></h3>
<p>This is <strong>critical</strong> for backing up the HCP etcd PVs.</p>
<ul>
<li>
<p><strong>Method A: CSI Volume Snapshots (Recommended)</strong></p>
<ul>
<li><strong>How it works:</strong> Uses the storage provider's native snapshot capabilities via the Container Storage Interface (CSI). Efficient and fast.</li>
<li><strong>Prerequisites (Check in k0rdent Mgmt Cluster):</strong><ul>
<li><strong>CSI Driver:</strong> A CSI driver compatible with your storage must be installed. Check with <code>kubectl get pods -n kube-system | grep csi</code>.</li>
<li><strong>VolumeSnapshot CRDs:</strong> Kubernetes Volume Snapshot capabilities must be installed. Check with <code>kubectl get crd volumesnapshots.snapshot.storage.k8s.io</code>.</li>
<li><strong>VolumeSnapshotClass:</strong> A <code>VolumeSnapshotClass</code> pointing to your CSI driver must exist. Check with <code>kubectl get volumesnapshotclass</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Method B: File-Based Backup (Kopia Recommended)</strong></p>
<ul>
<li><strong>How it works:</strong> Velero integrates with Kopia (or Restic) which runs a helper container (in a DaemonSet) on each node to copy file data directly from the volume into the backup storage location.</li>
<li><strong>Prerequisites:</strong> Generally none, works with most volume types.</li>
<li><strong>Considerations:</strong> Can be slower and consume more CPU/Memory/Network resources on cluster nodes during backup compared to CSI snapshots. Kopia is generally preferred over the older Restic integration.</li>
</ul>
</li>
</ul>
<h3 id="step-3-install-velero-cli">Step 3: Install Velero CLI<a class="headerlink" href="#step-3-install-velero-cli" title="Permanent link">#</a></h3>
<p>Install the Velero command-line tool on your local machine where you run <code>kubectl</code>. Follow instructions at: <a href="https://velero.io/docs/main/basic-install/#install-the-cli">https://velero.io/docs/main/basic-install/#install-the-cli</a>
Verify with <code>velero version</code>.</p>
<h3 id="step-4-install-velero-server-in-k0rdent-management-cluster">Step 4: Install Velero Server in k0rdent Management Cluster<a class="headerlink" href="#step-4-install-velero-server-in-k0rdent-management-cluster" title="Permanent link">#</a></h3>
<p>Run <code>velero install</code> targeting your k0rdent management cluster context. Adapt placeholders (<code>&lt;...&gt;</code>) carefully for the appropriate environment.</p>
<h4 id="aws-with-csi-snapshots">AWS with CSI Snapshots<a class="headerlink" href="#aws-with-csi-snapshots" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code>```shell
velero install \
    --provider aws \
    --plugins velero/velero-plugin-for-aws,velero/velero-plugin-for-csi \
    --bucket &lt;YOUR_S3_BUCKET_NAME&gt; \
    --backup-location-config region=&lt;YOUR_BUCKET_REGION&gt; \
    --snapshot-location-config region=&lt;YOUR_CSI_REGION&gt; \
    --secret-file &lt;/path/to/your/credentials-velero&gt; \
    --use-volume-snapshots=true \
    --namespace velero # Default namespace
```
</code></pre></div>
<h4 id="aws-with-kopia-file-based-backup">AWS with Kopia File-Based Backup<a class="headerlink" href="#aws-with-kopia-file-based-backup" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code>```shell
velero install \
    --provider aws \
    --plugins velero/velero-plugin-for-aws \
    --bucket &lt;YOUR_S3_BUCKET_NAME&gt; \
    --backup-location-config region=&lt;YOUR_BUCKET_REGION&gt; \
    --secret-file &lt;/path/to/your/credentials-velero&gt; \
    --use-volume-snapshots=false \ # Disable CSI snapshots
    --use-kopia \ # Enable Kopia integration
    --namespace velero
```
</code></pre></div>
<h4 id="azure-with-csi-snapshots">Azure with CSI Snapshots<a class="headerlink" href="#azure-with-csi-snapshots" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code>```shell
# Ensure AZURE_CLIENT_SECRET env var is set or included in the file
# See Azure plugin docs for credential file details
velero install \
    --provider azure \
    --plugins velero/velero-plugin-for-azure,velero/velero-plugin-for-csi \
    --bucket &lt;YOUR_BLOB_CONTAINER_NAME&gt; \
    --secret-file &lt;/path/to/your/azure-credentials.txt&gt; \
    --backup-location-config resourceGroup=&lt;YOUR_RG_NAME&gt;,storageAccount=&lt;YOUR_STORAGE_ACCOUNT_NAME&gt;,subscriptionId=&lt;YOUR_SUBSCRIPTION_ID&gt; \
    --snapshot-location-config apiTimeout=5m,resourceGroup=&lt;YOUR_RG_NAME&gt;,subscriptionId=&lt;YOUR_SUBSCRIPTION_ID&gt; \
    --use-volume-snapshots=true \
    --namespace velero
```
</code></pre></div>
<h4 id="gcp-with-csi-snapshots">GCP with CSI Snapshots<a class="headerlink" href="#gcp-with-csi-snapshots" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code>```shell
velero install \
    --provider gcp \
    --plugins velero/velero-plugin-for-gcp,velero/velero-plugin-for-csi \
    --bucket &lt;YOUR_GCS_BUCKET_NAME&gt; \
    --secret-file &lt;/path/to/your/gcp-key.json&gt; \
    --use-volume-snapshots=true \
    --namespace velero
```
</code></pre></div>
<h4 id="key-flags-explained">Key Flags Explained:<a class="headerlink" href="#key-flags-explained" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code>* `--provider`: Your storage provider (aws, azure, gcp).
* `--plugins`: Required Velero plugins (provider plugin is always needed, add CSI plugin if using snapshots).
* `--bucket`: Name of your storage bucket/container.
* `--secret-file`: Path to the credential file you created.
* `--backup-location-config`: Provider-specific settings (e.g., region, resource group).
* `--snapshot-location-config`: Provider-specific settings for volume snapshots (if using CSI).
* `--use-volume-snapshots`: Set to `true` for CSI, `false` otherwise.
* `--use-kopia` / `--use-restic`: Enable file-based PV backup.
* `--namespace`: Kubernetes namespace to install Velero into (default `velero`).
</code></pre></div>
<h3 id="step-5-verify-velero-installation">Step 5: Verify Velero Installation<a class="headerlink" href="#step-5-verify-velero-installation" title="Permanent link">#</a></h3>
<ol>
<li>
<p><strong>Check Pods:</strong> </p>
<p>Ensure Velero and any helper pods (Kopia/Restic) are running:
 <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>velero
<span class="c1"># Expected: velero-xxxx deployment pod running.</span>
<span class="c1"># If using Kopia/Restic: kopia-maintainer-xxxx or restic-xxxx pods (one per node) running.</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Check Locations:</strong> Verify Velero can connect to your storage:</p>
<p><div class="highlight"><pre><span></span><code>velero<span class="w"> </span>backup-location<span class="w"> </span>get
<span class="c1"># Should show Phase: Available</span>

<span class="c1"># If using CSI:</span>
velero<span class="w"> </span>volume-snapshot-location<span class="w"> </span>get
<span class="c1"># Should show Phase: Available</span>
</code></pre></div>
3.  <strong>Troubleshooting:</strong> </p>
<p>If locations are not available, check Velero pod logs: <code>kubectl logs deployment/velero -n velero</code>. Common issues are incorrect credentials or permissions.</p>
</li>
</ol>
<h3 id="step-6-identify-hcp-etcd-pvs-crucial-sanity-check">Step 6: Identify HCP etcd PVs (Crucial Sanity Check)<a class="headerlink" href="#step-6-identify-hcp-etcd-pvs-crucial-sanity-check" title="Permanent link">#</a></h3>
<p>While Velero (especially with CSI) often automatically discovers PVs, it's good practice to confirm the etcd PVs are eligible.</p>
<ol>
<li>Find the namespaces used by your HCPs (often related to your K0smotron <code>Cluster</code> resource names).</li>
<li>
<p>List PVCs in those namespaces:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>pvc<span class="w"> </span>-n<span class="w"> </span>&lt;hcp-namespace-1&gt;
kubectl<span class="w"> </span>get<span class="w"> </span>pvc<span class="w"> </span>-n<span class="w"> </span>&lt;hcp-namespace-2&gt;
<span class="c1"># ... etc.</span>
</code></pre></div>
</li>
<li>
<p>Look for PVCs associated with etcd StatefulSets (for example, <code>data-etcd-main-0</code>).</p>
</li>
<li>Check the <code>STORAGECLASS</code> used by these PVCs (<code>kubectl get pvc &lt;pvc-name&gt; -n &lt;hcp-namespace&gt; -o jsonpath='{.spec.storageClassName}'</code>). Ensure this StorageClass is compatible with your chosen PV backup method (has a <code>VolumeSnapshotClass</code> for CSI, or is generally accessible for Kopia/Restic).</li>
</ol>
<h3 id="step-7-create-the-management-backup">Step 7: Create the Management Backup<a class="headerlink" href="#step-7-create-the-management-backup" title="Permanent link">#</a></h3>
<p>Perform an initial backup manually:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Generate a unique name with timestamp</span>
<span class="nv">BACKUP_NAME</span><span class="o">=</span><span class="s2">&quot;k0rdent-mgmt-</span><span class="k">$(</span>date<span class="w"> </span>+%Y%m%d-%H%M%S<span class="k">)</span><span class="s2">&quot;</span>

velero<span class="w"> </span>backup<span class="w"> </span>create<span class="w"> </span><span class="si">${</span><span class="nv">BACKUP_NAME</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--include-cluster-resources<span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\ </span><span class="c1"># MUST INCLUDE: Backs up CRDs, Nodes, ClusterRoles etc.</span>
<span class="w">    </span>--include-crds<span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\ </span><span class="c1"># MUST INCLUDE: Ensures CRDs (like K0smotron/CAPI) are backed up</span>
<span class="w">    </span><span class="c1"># Optional: Specify namespaces if needed, otherwise defaults to all</span>
<span class="w">    </span><span class="c1"># --include-namespaces velero,kube-system,&lt;hcp-namespace-1&gt;,...</span>
<span class="w">    </span><span class="c1"># Optional but Recommended if using Kopia/Restic for *all* PVs:</span>
<span class="w">    </span><span class="c1"># --default-volumes-to-kopia=true # Tells Velero to use Kopia for PVs unless opted out</span>
<span class="w">    </span>--wait<span class="w"> </span><span class="c1"># Waits for the command to complete and shows final status</span>
</code></pre></div>
<p>When the backup is complete, be sure to verify it:</p>
<div class="highlight"><pre><span></span><code>velero<span class="w"> </span>backup<span class="w"> </span>describe<span class="w"> </span><span class="si">${</span><span class="nv">BACKUP_NAME</span><span class="si">}</span>
<span class="c1"># Look for Phase: Completed, check Errors/Warnings are 0.</span>
<span class="c1"># Check for &#39;Persistent Volumes&#39; section (if using Kopia/Restic)</span>
<span class="c1"># Check for &#39;Volume Snapshots&#39; details (if using CSI)</span>

velero<span class="w"> </span>backup<span class="w"> </span>logs<span class="w"> </span><span class="si">${</span><span class="nv">BACKUP_NAME</span><span class="si">}</span>
<span class="c1"># Look for errors or details about PV backups.</span>
</code></pre></div>
<h3 id="step-8-schedule-regular-backups">Step 8: Schedule Regular Backups<a class="headerlink" href="#step-8-schedule-regular-backups" title="Permanent link">#</a></h3>
<ol>
<li>
<p>Automate backups using schedules:</p>
<div class="highlight"><pre><span></span><code>velero<span class="w"> </span>schedule<span class="w"> </span>create<span class="w"> </span>k0rdent-mgmt-daily<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--schedule<span class="o">=</span><span class="s2">&quot;@daily&quot;</span><span class="w"> </span><span class="se">\ </span><span class="c1"># Or other cron expression e.g., &quot;0 3 * * *&quot; for 3 AM daily</span>
<span class="w">    </span>--include-cluster-resources<span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--include-crds<span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="c1"># --default-volumes-to-kopia=true # If using Kopia for PVs</span>
<span class="w">    </span>--ttl<span class="w"> </span>240h<span class="w"> </span><span class="c1"># Example: Retain backups for 10 days (240 hours)</span>
<span class="w">    </span><span class="c1"># Optional: --include-namespaces, --exclude-namespaces</span>
</code></pre></div>
</li>
<li>
<p>Check schedules: </p>
<div class="highlight"><pre><span></span><code>velero<span class="w"> </span>schedule<span class="w"> </span>get
</code></pre></div>
</li>
<li>
<p>Check backups created by schedule: </p>
<div class="highlight"><pre><span></span><code>velero<span class="w"> </span>backup<span class="w"> </span>get
</code></pre></div>
</li>
</ol>
<h2 id="setting-up-velero-for-childworkload-clusters">Setting Up Velero for Child/Workload Clusters<a class="headerlink" href="#setting-up-velero-for-childworkload-clusters" title="Permanent link">#</a></h2>
<p>This setup protects application data within standalone or HCP workload clusters.</p>
<p><strong>Goal:</strong> Create reliable, automated backups of application namespaces and their Persistent Volumes within each child/workload cluster.</p>
<p><strong>Process:</strong></p>
<p>The process largely mirrors the Management Cluster setup (Steps 1-5, 7-8), but is performed <strong>inside each child/workload cluster</strong>:</p>
<ol>
<li><strong>Target the Child/Workload Cluster:</strong> Ensure your <code>kubectl</code> context points to the specific child/workload cluster you want to back up.</li>
<li><strong>Storage &amp; Credentials:</strong> You <em>can</em> use the same backup bucket, but consider using a different prefix or subdirectory for organizational purposes (configure via <code>--backup-location-config prefix=...</code>). Use the same or different credentials file as appropriate.</li>
<li><strong>Choose PV Method:</strong> Determine if CSI snapshots or Kopia/Restic is appropriate based on the storage and CSI setup <em>within this specific child/workload cluster</em>.</li>
<li><strong>Install Velero CLI:</strong> Already done.</li>
<li><strong>Install Velero Server:</strong> Run <code>velero install</code> targeting the child/workload cluster, adapting provider, plugins, bucket, credentials, PV method flags (<code>--use-volume-snapshots</code>, <code>--use-kopia</code>) based on <em>this cluster's</em> environment.</li>
<li><strong>Verify Installation:</strong> Run <code>kubectl get pods -n velero</code>, <code>velero backup-location get</code>, etc., targeting the child/workload cluster.</li>
<li>
<p><strong>Create Application Backup:</strong></p>
<div class="highlight"><pre><span></span><code>* Focus on application namespaces.
```shell
# Backup specific application namespace(s)
APP_BACKUP_NAME=&quot;&lt;app-name&gt;-$(date +%Y%m%d-%H%M%S)&quot;
velero backup create ${APP_BACKUP_NAME} \
    --include-namespaces &lt;your-app-namespace-1&gt;,&lt;your-app-namespace-2&gt; \
    # --default-volumes-to-kopia=true # If using Kopia for app PVs
    --wait
```
* Verify the backup (`velero backup describe ...`) ensuring application PVs were captured.
</code></pre></div>
</li>
<li>
<p><strong>Schedule Application Backups:</strong>
        <div class="highlight"><pre><span></span><code>velero<span class="w"> </span>schedule<span class="w"> </span>create<span class="w"> </span>&lt;app-name&gt;-daily<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--schedule<span class="o">=</span><span class="s2">&quot;@daily&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--include-namespaces<span class="w"> </span>&lt;your-app-namespace-1&gt;,&lt;your-app-namespace-2&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="c1"># --default-volumes-to-kopia=true # If using Kopia</span>
<span class="w">    </span>--ttl<span class="w"> </span>168h<span class="w"> </span><span class="c1"># Example: Retain for 7 days</span>
</code></pre></div></p>
</li>
</ol>
<p>Repeat this setup process for each child/workload cluster requiring backup.</p>
<h2 id="what-gets-backed-up-summary">What Gets Backed Up (Summary)<a class="headerlink" href="#what-gets-backed-up-summary" title="Permanent link">#</a></h2>
<ul>
<li>
<p><strong>Management Cluster Backup Includes:</strong></p>
<ul>
<li>k0rdent state (via API objects, etcd PV if applicable).</li>
<li>K0smotron controller &amp; CRDs.</li>
<li>HCP definitions (CAPI CRs, K0smotron CRs like <code>Cluster</code>, <code>MachinePool</code>).</li>
<li><strong>HCP etcd Persistent Volumes</strong> (containing workload cluster state).</li>
<li>Other management components like parts of <code>cert-manager</code>.</li>
<li>Potentially objects matching specific labels used by k0rdent's default configuration (see label list below).</li>
<li><em>Excludes:</em> Application data PVs attached to workload cluster nodes.</li>
</ul>
<p><em>Default Labels (for API Object Selection):</em> k0rdent's configuration might prioritize API objects with these labels during backup:
<div class="highlight"><pre><span></span><code><span class="c1"># Identifies objects belonging to a specific HCP managed by Cluster API</span>
<span class="nt">cluster.x-k8s.io/cluster-name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;cluster-deployment-name&gt;&quot;</span>
<span class="c1"># Identifies objects related to Flux Helm releases for the HCP</span>
<span class="nt">helm.toolkit.fluxcd.io/name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;cluster-deployment-name&gt;&quot;</span>
<span class="c1"># Identifies CAPI provider components (bootstrap, control plane, infrastructure)</span>
<span class="nt">cluster.x-k8s.io/provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bootstrap-&lt;provider&gt;&quot;</span>
<span class="nt">cluster.x-k8s.io/provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;control-plane-&lt;provider&gt;&quot;</span>
<span class="nt">cluster.x-k8s.io/provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;infrastructure-&lt;provider&gt;&quot;</span>
<span class="c1"># Identifies core CAPI components</span>
<span class="nt">cluster.x-k8s.io/provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cluster-api&quot;</span>
<span class="c1"># Identifies specific cert-manager resources</span>
<span class="nt">controller.cert-manager.io/fao</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;true&quot;</span>
<span class="c1"># Identifies k0rdent KCM components</span>
<span class="p p-Indicator">[</span><span class="nv">k0rdent.mirantis.com/component</span><span class="p p-Indicator">]</span><span class="nt">(https://k0rdent.mirantis.com/component)</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;kcm&quot;</span>
</code></pre></div>
(Remember: Label selection alone is NOT enough; PV backup <strong>must</strong> be configured correctly for HCP etcd PVs).</p>
</li>
<li>
<p><strong>Child/Workload Cluster Backup Includes:</strong></p>
<ul>
<li>API Objects within specified namespaces (Deployments, Services, ConfigMaps, Secrets, App-specific CRs).</li>
<li><strong>Application Data Persistent Volumes</strong> associated with the included namespaces/pods.</li>
<li><em>Excludes:</em> Control plane state (this is in the HCP etcd PVs backed up from the management cluster).</li>
</ul>
</li>
</ul>
<h2 id="important-considerations-next-steps">Important Considerations &amp; Next Steps<a class="headerlink" href="#important-considerations-next-steps" title="Permanent link">#</a></h2>
<ul>
<li><strong>TEST YOUR RESTORES:</strong> Backups are only useful if they can be restored successfully. Regularly practice restoring the management cluster to a non-production environment and restoring applications in workload clusters. Use <code>velero restore create --from-backup &lt;backup-name&gt;</code>.</li>
<li><strong>Permissions (RBAC):</strong> Velero's Service Account typically needs cluster-admin-like privileges to read all necessary resources and potentially manage snapshots or exec into pods (for Restic/Kopia). Review permissions if your cluster has strict RBAC.</li>
<li><strong>Resource Usage:</strong> Kopia/Restic backups consume node CPU, Memory, and Network I/O. Monitor node resource usage during backups, especially on heavily loaded clusters. CSI snapshots are generally much lighter.</li>
<li><strong>Monitoring Backups:</strong> Regularly check backup status using <code>velero backup get</code> and <code>velero schedule get</code>. Set up alerts if backups fail.</li>
<li><strong>Security:</strong> Protect your backup storage credentials securely. Ensure your backup bucket/container has appropriate access controls (e.g., private, limited access).</li>
<li><strong>Velero Documentation:</strong> For advanced configuration, troubleshooting, and restore procedures, consult the official Velero documentation: <a href="https://velero.io/docs/main/">https://velero.io/docs/main/</a></li>
</ul>
<p>By following this guide, you can establish a robust backup strategy for your k0rdent environment using Velero, significantly improving your ability to recover from failures.</p>









  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5zM16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/k0rdent/docs/issues/new" target="_blank" rel="noopener">feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 The k0rdent authors | Documentation distributed under <a href="https://creativecommons.org/licenses/by/4.0/legalcode.txt">CC-BY-4.0</a>.
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k0rdent/kcm" target="_blank" rel="noopener" title="k0rdent on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://x.com/k0rdent" target="_blank" rel="noopener" title="k0rdent on X" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://bsky.app/profile/k0rdent.bsky.social" target="_blank" rel="noopener" title="k0rdent on BlueSky" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2 42.1-31.6 110.3-56 110.3 21.8 0 15.5-8.9 130.5-14.1 149.2-18.2 64.8-84.4 81.4-143.3 71.3C456 322 482.2 380 425.6 438c-107.4 110.2-154.3-27.6-166.3-62.9-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8c-12 35.3-59 173.1-166.3 62.9-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1 10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.youtube.com/channel/UChXQ6kbvjnAtdZAQpl7Fo4A" target="_blank" rel="noopener" title="k0rdent on YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/company/k0rdent/" target="_blank" rel="noopener" title="k0rdent on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["toc.autohide", "search.suggest", "search.highlight", "content.code.copy", "navigation.tracking", "toc.follow", "search.suggest", "search.highlight", "content.action.edit", "content.action.view", "navigation.path", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "stable", "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../javascripts/feedback.js"></script>
      
    
  </body>
</html>